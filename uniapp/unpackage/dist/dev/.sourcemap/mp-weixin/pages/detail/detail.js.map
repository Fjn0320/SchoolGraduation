{"version":3,"sources":["uni-app:///main.js","webpack:///D:/HBuilderProjects/uniapp/pages/detail/detail.vue?5ba9","webpack:///D:/HBuilderProjects/uniapp/pages/detail/detail.vue?5c2a","webpack:///D:/HBuilderProjects/uniapp/pages/detail/detail.vue?33d4","webpack:///D:/HBuilderProjects/uniapp/pages/detail/detail.vue?3ea5","uni-app:///pages/detail/detail.vue","webpack:///D:/HBuilderProjects/uniapp/pages/detail/detail.vue?7907","webpack:///D:/HBuilderProjects/uniapp/pages/detail/detail.vue?41cd"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","shopid","shopMneuList","shopinfoList","shopsortList","username","activeCategoryId","shopSortMenu","options","icon","text","info","customButtonGroup","backgroundColor","color","user","getCartList","amount","onShow","methods","load","getSortMenu","id","console","addCart","num","userid","businessid","uni","title","loadCart","onClick","updateCart","deleteAll","buttonClick","orders","url"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACuN;AACvN,gBAAgB,6NAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,0VAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAA01B,CAAgB,g2BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCwG92B;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MAAA;MACAC;MAAA;MACA;QACAC;QACAC;QACAC;MACA,EACA;MACAC;MAAA;MACA;QACAF;QACAG;QACAC;MACA,EACA;MACAC;MACAC;MAAA;MACAC;IAEA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;MACA;QACA;MACA;;MAEA;MACA;QACA;MACA;;MAEA;MACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;MACA;QACA;QACAC;MACA;IACA;IACAC;MAAA;MAAA;MACA;QACAvB;QAAA;QACAwB;QAAA;QACAC;QAAA;QACAC;MACA;QACA;UACAC;YACAnB;YACAoB;UACA;UACA;QACA;UACAD;YACAnB;YACAoB;UACA;QACA;MACA;IACA;IACAC;MAAA;MAAA;MACA;QACAJ;QACAC;MACA;QACA;QACA;QACAJ;MACA;MAEA;QACAG;QACAC;MACA;QACA;MACA;IAEA;IACAI;MAAA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACA;QACA;UACAJ;YACAnB;YACAoB;UACA;QACA;MACA;IACA;IACAI;MAAA;MACAV;MACAA;MACA;QACA;UACAK;YACAnB;YACAoB;UACA;UACA;QACA;UACAD;YACAnB;YACAoB;UACA;QACA;MACA;IACA;IACAK;MACA;QACAN;UACAnB;UACAoB;QACA;QACA;MACA;MAEA;MACAM;MACAP;MACAL;MACAK;QACAQ;MACA;IACA;EAEA;AAEA;AAAA,2B;;;;;;;;;;;;;AC1QA;AAAA;AAAA;AAAA;AAAgtC,CAAgB,qrCAAG,EAAC,C;;;;;;;;;;;ACApuC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/detail/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=3e159eb4&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/detail/detail.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=3e159eb4&\"","var components\ntry {\n  components = {\n    uniGoodsNav: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-goods-nav/components/uni-goods-nav/uni-goods-nav\" */ \"@/uni_modules/uni-goods-nav/components/uni-goods-nav/uni-goods-nav.vue\"\n      )\n    },\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniNumberBox: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-number-box/components/uni-number-box/uni-number-box\" */ \"@/uni_modules/uni-number-box/components/uni-number-box/uni-number-box.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.getCartList.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\n\t<view style=\"padding: 20rpx;\">\n\t\t<view class=\"box\" style=\"display: flex;\">\r\n\t\t\t<view style=\"flex: 1; display: flex;flex-direction: column;justify-content: space-between;\">\r\n\t\t\t\t<view style=\"font-size: 36rpx; font-weight: bold;\">{{shopinfoList.shoping}}</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text style=\"padding-right: 10rpx;border-right: 2rpx solid #ccc;\">平台配送</text>\r\n\t\t\t\t\t<text style=\"padding: 0 10rpx;border-right:2rpx solid #ccc\">免费配送</text>\r\n\t\t\t\t\t<text style=\"padding: 0 10rpx\">30分钟送达</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t地址：{{shopinfoList.adress}}\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t联系电话：{{shopinfoList.phone}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"width: 200rpx;height: 200rpx;\">\r\n\t\t\t\t<image :src=\"shopinfoList.imgurl\" style=\"width: 100%;height: 100%;border-radius: 50%;\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 商家信息结束 -->\r\n\t\t\r\n\t\t<!-- 商家分类信息 -->\r\n\t\t<view style=\"margin: 20rpx 0;\">\r\n\t\t\t<view style=\"background-color: #fff;display: flex;\">\r\n\t\t\t\t<view style=\"background-color: #ffd100;padding: 10rpx;border-radius: 10rpx;overflow: hidden;margin-bottom: 10rpx;\">全部商品</view>\r\n\t\t\t\t<view style=\"padding: 10rpx;\">评价</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 分类展示 -->\r\n\t\t\t<view style=\"display: flex; background-color: #fff;border-radius: 10rpx;padding: 10rpx;\">\r\n\t\t\t\t<view style=\"width:200rpx;text-align: center;\" >\r\n\t\t\t\t\t<view  v-for=\"item in shopsortList\" :key=\"item.id\" \r\n\t\t\t\t\t:class=\"{ 'categroy-sort' : item.id === activeCategoryId}\"\r\n\t\t\t\t\tclass=\"categroy-item\" @click=\"getSortMenu(item.id)\">{{item.shopsot}} </view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 商品列表开始 -->\r\n\t\t\t<scroll-view scroll-y=\"true\" style=\"height: 59vh\">\r\n\t\t\t\t<view style=\"padding: 20rpx; \">\r\n\t\t\t\t\t<view style=\"display: flex; grid-gap: 20rpx; margin-bottom: 10rpx;\"  v-for=\"item in shopSortMenu\" :key=\"item.id\">\r\n\t\t\t\t\t\t<view style=\"width: 200rpx; height: 200rpx;\">\r\n\t\t\t\t\t\t\t<image :src=\"item.shopurl\" style=\"width: 200rpx;height: 200rpx; border-radius: 20rpx; display: block;\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"flex: 1; display: flex;  flex-direction: column;justify-content: space-between;\">\r\n\t\t\t\t\t\t\t<view style=\"font-size: 32rpx;font-weight: bold;\">{{item.shopname}}</view>\r\n\t\t\t\t\t\t\t<view>不得不说，嘎嘎好吃</view>\r\n\t\t\t\t\t\t\t<view style=\"margin-bottom: 10rpx;\">\r\n\t\t\t\t\t\t\t\t<text class=\"min-button\">7折</text>\r\n\t\t\t\t\t\t\t\t<text style=\"font-size: 24rpx; margin-left: 20rpx;\" >已售 30</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view> \r\n\t\t\t\t\t\t\t\t<text style=\"text-decoration: line-through;\">￥{{item.shopprice}}</text>\r\n\t\t\t\t\t\t\t\t<text style=\"color: orangered;\">￥{{item.shopmoey}}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"min-button\" style=\"margin-left: 5rpx;\">到手价</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<text class=\"min-btn-fill\" @click=\"addCart(item)\">选购</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 商品列表结束 -->\r\n\t\t\t</scroll-view>\r\n\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 购物车弹窗 -->\r\n\t\t<uni-goods-nav :fill=\"true\" :options=\"options\" :button-group=\"customButtonGroup\" @click=\"onClick\" @buttonClick=\"buttonClick\" style=\"margin-top: 20px;\" />\n\t\r\n\t\t<uni-popup ref=\"popup\" type=\"bottom\" background-color=\"#fff\">\r\n\t\t\t<scroll-view style=\"max-height: 70vh;\" scroll-y=\"true\">\r\n\t\t\t\t<view style=\"padding: 40rpx 40rpx 280rpx 40rpx;\">\r\n\t\t\t\t\t <view style=\"text-align: right; margin-bottom: 10rpx;color: #999;\">\r\n\t\t\t\t\t\t <uni-icons v-if=\"getCartList.length\" style=\"po(sition: relative; top: 4rpx;\" type=\"trash\" size=\"16\" color=\"999\" ></uni-icons>\r\n\t\t\t\t\t\t<text @click=\"deleteAll\">\r\n\t\t\t\t\t\t\t清空\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-for=\"(item,index) in getCartList\" :key=\"index\" style=\"display: flex;margin-bottom: 20rpx;\" v-if=\"item.shopPojo\">\r\n\t\t\t\t\t\t<view style=\"width: 100rpx;height: 100rpx;\">\r\n\t\t\t\t\t\t\t<image style=\"width: 100%;height: 100%; display: inline-block;\" :src=\"item.shopPojo.shopurl\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"flex: 1;margin-left: 20rpx;display: flex;flex-direction: column;justify-content: space-around;\">\r\n\t\t\t\t\t\t\t<view style=\"flex: 1;\">{{item.shopPojo.shopname}}</view>\r\n\t\t\t\t\t\t\t<view style=\"flex: 1;color: red;display: flex;align-items: flex-end;\">\r\n\t\t\t\t\t\t\t\t<view style=\"flex: 1;\">￥{{item.shopPojo.shopmoey}}</view>\r\n\t\t\t\t\t\t\t\t<view style=\"flex: 1;display: flex;justify-content: right;\">\r\n\t\t\t\t\t\t\t\t\t<uni-number-box :min=\"1\" v-model=\"item.num\" @change=\"updateCart(item)\"></uni-number-box>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"margin-top: 40rpx;text-align: right;\" v-if=\"amount.actual\">总金额：<text style=\"color: red;\">￥{{amount.actual}}</text></view>\r\n\t\t\t\t\t<view style=\"margin-top: 10rpx;text-align: right;\" v-if=\"amount.amount\">总金额：<text style=\"color: red;\">￥{{amount.amount}}</text></view>\r\n\t\t\t\t\t<view style=\"margin-top: 10rpx;text-align: right;\" v-if=\"amount.discount\">总金额：<text style=\"color: red;\">￥{{amount.discount}}</text></view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</uni-popup>\r\n\t\r\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tshopid:0,//商家id\r\n\t\t\t\tshopMneuList:[],//获取商家菜单信息\r\n\t\t\t\tshopinfoList:[],//商家信息列表\r\n\t\t\t\tshopsortList:[],//商家分类信息\r\n\t\t\t\tusername:'',//获取账号名\r\n\t\t\t\tactiveCategoryId:0,\r\n\t\t\t\tshopSortMenu:[],//所分类中的菜单\r\n\t\t\t\toptions:[//购物车组件\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ticon: 'cart',\r\n\t\t\t\t\t\ttext: '购物车',\r\n\t\t\t\t\t\tinfo: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tcustomButtonGroup:[//立即下单组件\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: '立即下单',\r\n\t\t\t\t\t\tbackgroundColor: 'linear-gradient(90deg, #FE6035, #EF1224)',\r\n\t\t\t\t\t\tcolor: '#fff'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tuser:uni.getStorageSync('xm-user'),\r\n\t\t\t\tgetCartList:[],//获取该用户购物车的数据\r\n\t\t\t\tamount:[]\r\n\t\t\t\t\n\t\t\t}\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tlet allPage = getCurrentPages()//获取当前页面栈的实例\r\n\t\t\tlet lastPages = allPage.length - 1//获取倒数第二个元素的索引\r\n\t\t\tlet option = allPage[lastPages].options//获得上个页面传过来的参数\r\n\t\t\tthis.shopid  = option.shopid\r\n\t\t\tthis.username = option.username\r\n\t\t\tthis.load()\r\n\t\t\tthis.loadCart()\r\n\t\t},\n\t\tmethods: {\n\t\t\tload(){\r\n\t\t\t\t  //根据id查询到店主名，然后根据店主名查到相应的店铺里面的菜单信息\r\n\t\t\t\tthis.$request.get(\"/shop/selectById/\"+this.shopid).then(res => {\r\n\t\t\t\t\tthis.shopMneuList = res.result\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t//商家信息列表根据id\r\n\t\t\t\tthis.$request.get(\"/shop/getShopInfoId/\"+this.shopid).then(res => {\r\n\t\t\t\t\tthis.shopinfoList = res.result\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t//商家菜品分类列表，根据账号名去查\r\n\t\t\t\tthis.$request.get(\"/shop/getShopSort/\"+this.username).then(res => {\r\n\t\t\t\t\tthis.shopsortList = res.result\r\n\t\t\t\t\tthis.activeCategoryId = this.shopsortList[0].id\r\n\t\t\t\t\tthis.getSortMenu(this.activeCategoryId)\r\n\t\t\t\t\t// console.log(this.shopsortList)\r\n\t\t\t\t\t// console.log(this.activeCategoryId)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//根据分类和username获取相应的数据\r\n\t\t\tgetSortMenu(selectid){\r\n\t\t\t\tthis.activeCategoryId=selectid\r\n\t\t\t\tthis.$request.get(\"/shop/getAllMenu\",{\r\n\t\t\t\t\tid:selectid\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.shopSortMenu = res.result\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\taddCart(item){//添加购物车\r\n\t\t\t\tthis.$request.post(\"/cart/add\",{\r\n\t\t\t\t\tshopid:item.id,//商品id\r\n\t\t\t\t\tnum:1,//商品数量\r\n\t\t\t\t\tuserid:this.user.id,//用户id\r\n\t\t\t\t\tbusinessid:this.shopid//传入商家id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif(res.code === 200){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon:'success',\r\n\t\t\t\t\t\t\ttitle: \"加入成功\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.loadCart()\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon:'error',\r\n\t\t\t\t\t\t\ttitle: res.message\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tloadCart(){//刷新购物车,根据用户id来查询\r\n\t\t\t\tthis.$request.get(\"/cart/selectAllCart\",{\r\n\t\t\t\t\tuserid:this.user.id,\r\n\t\t\t\t\tbusinessid:this.shopid,\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.getCartList = res.result\r\n\t\t\t\t\tthis.options[0].info = this.getCartList.length\r\n\t\t\t\t\tconsole.log(this.getCartList)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tthis.$request.get(\"/cart/calc\",{\r\n\t\t\t\t\tuserid:this.user.id,\r\n\t\t\t\t\tbusinessid:this.shopid,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.amount = res.result\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tonClick(){//点击购物车图标\r\n\t\t\t\tthis.$refs.popup.open()\r\n\t\t\t},\r\n\t\t\tupdateCart(item){\r\n\t\t\t\tthis.$request.post(\"/cart/updateCart\",item).then(res => {\r\n\t\t\t\t\tif(res.code === 200){\r\n\t\t\t\t\t\tthis.loadCart()\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon:'error',\r\n\t\t\t\t\t\t\ttitle: res.message\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeleteAll(){\r\n\t\t\t\tconsole.log(this.user.id)\r\n\t\t\t\tconsole.log(this.shopid)\r\n\t\t\t\tthis.$request.post(\"/cart/deleteCart/\"+this.user.id+\"/\"+this.shopid).then(res => {\r\n\t\t\t\t\tif(res.code === 200){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon:'success',\r\n\t\t\t\t\t\t\ttitle: \"清空购物车\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.loadCart()\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon:'error',\r\n\t\t\t\t\t\t\ttitle: res.message\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbuttonClick(){\r\n\t\t\t\tif(this.getCartList.length === 0){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:\"error\",\r\n\t\t\t\t\t\ttitle:\"请选择商品\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet orders = uni.getStorageSync(\"xm-orders\") || {}\r\n\t\t\t\torders.shopid = this.shopid || 0\r\n\t\t\t\tuni.setStorageSync(\"xm-orders\",orders)\r\n\t\t\t\tconsole.log(uni.getStorageSync(\"xm-orders\"))\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/comfirm/comfirm'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\n\t\t\t\n\t}\n</script>\n\n<style>\n.categroy-sort{\r\n\tbackground-color: #ffd100;\r\n\tcolor: orange;\r\n\tborder-left: 5rpx solid orange;\r\n}\r\n.categroy-item{\r\n\tpadding: 15rpx;\r\n\tbackground-color: #eee;\r\n}\r\n.min-button{\r\n\tborder: 2rpx solid orangered;\r\n\tpadding: 0 4rpx;\r\n\tfont-size: 22rpx;\r\n\tcolor: orangered; \r\n\tborder-radius: 5rpx;\r\n\tfont-weight: bold;\r\n}\r\n.min-btn-fill{\r\n\tbackground-color: orange;\r\n\tpadding: 0 4rpx;color: #fff; \r\n\tfont-size: 24rpx;\r\n\tborder-radius: 5rpx;\r\n}\n</style>\n","import mod from \"-!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\len\\\\Downloads\\\\HBuilderX.3.96.2023110403\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1701226734331\n      var cssReload = require(\"C:/Users/len/Downloads/HBuilderX.3.96.2023110403/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}